import{r,s as j,j as i,M as v}from"./main-f0a91ae3.js";const p="_list_j4mgx_3",b="_label_j4mgx_14",y="_divider_j4mgx_26",N="_optionsContainer_j4mgx_45",M="_option_j4mgx_45",k="_selected_j4mgx_78",D="_engineName_j4mgx_84",o={list:p,label:b,divider:y,optionsContainer:N,option:M,selected:k,engineName:D},w=({isOpen:s,selectedEngine:l,engines:e,onClose:d,onSelect:f,anchorRect:u})=>{var _;const[n,c]=r.useState(()=>Math.max(0,e.findIndex(t=>t.id===l.id))),m=r.useRef(null);r.useEffect(()=>{s&&c(Math.max(0,e.findIndex(t=>t.id===l.id)))},[s,e,l]),r.useEffect(()=>{s&&m.current&&j(m.current)},[s]);const x=r.useCallback(t=>{f(t),d()},[f,d]),h=r.useCallback(t=>{if(s)if(t.key==="ArrowDown")t.preventDefault(),c(a=>Math.min(e.length-1,a+1));else if(t.key==="ArrowUp")t.preventDefault(),c(a=>Math.max(0,a-1));else if(t.key==="Enter"){t.preventDefault();const a=e[n]??e[0];a&&x(a)}else t.key==="Escape"&&d()},[n,e,s,x,d]);return i.jsx(v,{isOpen:s,onClose:d,title:void 0,hideHeader:!0,anchorRect:u,offset:12,children:i.jsxs("div",{ref:m,className:o.list,role:"listbox","aria-activedescendant":(_=e[n])==null?void 0:_.id,tabIndex:0,onKeyDown:h,children:[i.jsx("div",{className:o.label,children:"Search by"}),i.jsx("div",{className:o.divider}),i.jsx("div",{className:o.optionsContainer,children:e.map((t,a)=>i.jsx("button",{id:t.id,role:"option","aria-selected":l.id===t.id,className:`${o.option} ${l.id===t.id?o.selected:""}`,style:{transitionDelay:`${a*40}ms`},onMouseEnter:()=>c(a),onClick:()=>x(t),children:i.jsx("span",{className:o.engineName,children:t.name})},t.id))})]})})};export{w as SearchEngineModal};
