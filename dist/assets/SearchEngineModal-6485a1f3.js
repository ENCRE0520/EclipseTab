import{p as j,r,j as s,M as v}from"./main-4b10ea57.js";const y="_list_j4mgx_3",N="_label_j4mgx_14",b="_divider_j4mgx_26",D="_optionsContainer_j4mgx_45",M="_option_j4mgx_45",k="_selected_j4mgx_78",w="_engineName_j4mgx_84",i={list:y,label:N,divider:b,optionsContainer:D,option:M,selected:k,engineName:w},A=({isOpen:o,selectedEngine:l,engines:e,onClose:d,onSelect:x,anchorRect:u})=>{var _;const{t:f}=j(),[n,c]=r.useState(()=>Math.max(0,e.findIndex(t=>t.id===l.id))),h=r.useRef(null);r.useEffect(()=>{o&&c(Math.max(0,e.findIndex(t=>t.id===l.id)))},[o,e,l]);const m=r.useCallback(t=>{x(t),d()},[x,d]),p=r.useCallback(t=>{if(o)if(t.key==="ArrowDown")t.preventDefault(),c(a=>Math.min(e.length-1,a+1));else if(t.key==="ArrowUp")t.preventDefault(),c(a=>Math.max(0,a-1));else if(t.key==="Enter"){t.preventDefault();const a=e[n]??e[0];a&&m(a)}else t.key==="Escape"&&d()},[n,e,o,m,d]);return s.jsx(v,{isOpen:o,onClose:d,title:void 0,hideHeader:!0,anchorRect:u,offset:12,children:s.jsxs("div",{ref:h,className:i.list,role:"listbox","aria-activedescendant":(_=e[n])==null?void 0:_.id,tabIndex:0,onKeyDown:p,children:[s.jsx("div",{className:i.label,children:f.search.searchBy}),s.jsx("div",{className:i.divider}),s.jsx("div",{className:i.optionsContainer,children:e.map((t,a)=>s.jsx("button",{id:t.id,role:"option","aria-selected":l.id===t.id,className:`${i.option} ${l.id===t.id?i.selected:""}`,style:{transitionDelay:`${a*40}ms`},onMouseEnter:()=>c(a),onClick:()=>m(t),children:s.jsx("span",{className:i.engineName,children:t.id==="default"?f.search.systemDefault:t.name})},t.id))})]})})};export{A as SearchEngineModal};
